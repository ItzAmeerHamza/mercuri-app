(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1390],{57412:function(e,n,t){"use strict";t.d(n,{Z:function(){return S}});var r=t(63366),a=t(87462),i=t(67294),o=t(86010),s=t(70917),l=t(94780),c=t(80702),u=t(41796),d=t(81719),h=t(78884),f=t(34867),p=t(1588);function g(e){return(0,f.Z)("MuiSkeleton",e)}(0,p.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var v=t(85893);let x=["animation","className","component","height","style","variant","width"],m=e=>e,j,Z,w,b,C=e=>{let{classes:n,variant:t,animation:r,hasChildren:a,width:i,height:o}=e;return(0,l.Z)({root:["root",t,r,a&&"withChildren",a&&!i&&"fitContent",a&&!o&&"heightAuto"]},g,n)},y=(0,s.F4)(j||(j=m`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),P=(0,s.F4)(Z||(Z=m`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),k=(0,d.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver(e,n){let{ownerState:t}=e;return[n.root,n[t.variant],!1!==t.animation&&n[t.animation],t.hasChildren&&n.withChildren,t.hasChildren&&!t.width&&n.fitContent,t.hasChildren&&!t.height&&n.heightAuto]}})(({theme:e,ownerState:n})=>{let t=(0,c.Wy)(e.shape.borderRadius)||"px",r=(0,c.YL)(e.shape.borderRadius);return(0,a.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,u.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${t}/${Math.round(r/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(e.vars||e).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})},({ownerState:e})=>"pulse"===e.animation&&(0,s.iv)(w||(w=m`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),y),({ownerState:e,theme:n})=>"wave"===e.animation&&(0,s.iv)(b||(b=m`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),P,(n.vars||n).palette.action.hover)),R=i.forwardRef(function(e,n){let t=(0,h.Z)({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:l="span",height:c,style:u,variant:d="text",width:f}=t,p=(0,r.Z)(t,x),g=(0,a.Z)({},t,{animation:i,component:l,variant:d,hasChildren:Boolean(p.children)}),m=C(g);return(0,v.jsx)(k,(0,a.Z)({as:l,ref:n,className:(0,o.Z)(m.root,s),ownerState:g},p,{style:(0,a.Z)({width:f,height:c},u)}))});var S=R},59463:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/competencies/groups",function(){return t(57549)}])},57166:function(e,n,t){"use strict";t.d(n,{z:function(){return s}});var r=t(85893),a=t(69417),i=t(5605),o=t(57412),s=function(e){var n=e.total;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(i.Z,{padding:"checkbox",children:(0,r.jsx)(o.Z,{variant:"square",animation:"wave",width:20,height:20,sx:{marginLeft:"10px"}})}),(0,r.jsx)(i.Z,{children:(0,r.jsx)(o.Z,{variant:"rectangular",animation:"wave",width:"100%",height:20})}),(0,r.jsx)(i.Z,{children:(0,r.jsx)(o.Z,{variant:"rectangular",animation:"wave",width:"100%",height:20})}),n>2&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{children:(0,r.jsx)(o.Z,{variant:"rectangular",animation:"wave",width:"100%",height:20})}),(0,r.jsx)(i.Z,{children:(0,r.jsx)(o.Z,{variant:"rectangular",animation:"wave",width:"100%",height:20})})]})]})}},46723:function(e,n,t){"use strict";t.d(n,{s:function(){return a}});var r=t(67294),a=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),(0,r.useCallback)(function(){return e.current},[])}},84747:function(e,n,t){"use strict";t.d(n,{U:function(){return a}});var r=t(85893),a=(0,t(58175).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download")},61616:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var r=t(85893),a=(0,t(58175).Z)((0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"PencilAlt")},21392:function(e,n,t){"use strict";t.d(n,{v:function(){return a}});var r=t(85893),a=(0,t(58175).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},2248:function(e,n,t){"use strict";t.d(n,{g:function(){return a}});var r=t(85893),a=(0,t(58175).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload")},57549:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Y}});var r=t(47568),a=t(26042),i=t(69396),o=t(828),s=t(20414),l=t(85893),c=t(67294),u=t(9008),d=t.n(u),h=t(61953),f=t(36336),p=t(79072),g=t(29630),v=t(54225),x=t(49837),m=t(67836),j=t(9041),Z=t(98875),w=t(31772),b=t(99534),C=t(29815),y=t(45697),P=t.n(y),k=t(75158),R=t(90244),S=t(93978),z=t(69417),_=t(5605),A=t(39807),M=t(80562),E=t(25650),L=t(34547),q=t(57166),I=t(41664),T=t.n(I),B=t(61616),F=function(e){var n=e.competency,t=e.competencyCount,r=e.onPageChange,o=e.onRowsPerPageChange,s=e.page,u=e.rowsPerPage,d=e.loading,f=(0,b.Z)(e,["competency","competencyCount","onPageChange","onRowsPerPageChange","page","rowsPerPage","loading"]),p=(0,c.useState)([]),x=p[0],m=p[1];(0,c.useEffect)(function(){x.length&&m([])},[n]);var j=function(e){m(e.target.checked?n.map(function(e){return e.id}):[])},Z=function(e,n){x.includes(n)?m(function(e){return e.filter(function(e){return e!==n})}):m(function(e){return(0,C.Z)(e).concat([n])})},w=x.length>0,y=x.length>0&&x.length<n.length,P=x.length===(null==n?void 0:n.length);return(0,l.jsxs)("div",(0,i.Z)((0,a.Z)({},f),{children:[(0,l.jsxs)(h.Z,{sx:{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},display:w?"block":"none",px:2,py:.5},children:[(0,l.jsx)(k.Z,{checked:P,indeterminate:y,onChange:j}),(0,l.jsx)(v.Z,{size:"small",sx:{ml:2},children:"Delete"}),(0,l.jsx)(v.Z,{size:"small",sx:{ml:2},children:"Edit"})]}),(0,l.jsx)(L.L,{children:(0,l.jsxs)(R.Z,{sx:{minWidth:700},children:[(0,l.jsx)(S.Z,{sx:{visibility:w?"collapse":"visible"},children:(0,l.jsxs)(z.Z,{children:[(0,l.jsx)(_.Z,{padding:"checkbox",children:(0,l.jsx)(k.Z,{checked:P,indeterminate:y,onChange:j})}),(0,l.jsx)(_.Z,{children:"Title"}),(0,l.jsx)(_.Z,{children:"Status"}),(0,l.jsx)(_.Z,{align:"right",children:"Actions"})]})}),(0,l.jsxs)(A.Z,{children:[d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(q.z,{total:2}),(0,l.jsx)(q.z,{total:2}),(0,l.jsx)(q.z,{total:2}),(0,l.jsx)(q.z,{total:2})]}),null==n?void 0:n.map(function(e){var n=x.includes(e.id);return(0,l.jsxs)(z.Z,{hover:!0,selected:n,children:[(0,l.jsx)(_.Z,{padding:"checkbox",children:(0,l.jsx)(k.Z,{checked:n,onChange:function(n){return Z(n,e.id)},value:n})}),(0,l.jsx)(_.Z,{children:"".concat(e.title)}),(0,l.jsx)(_.Z,{children:(0,l.jsx)(g.Z,{color:"success.main",variant:"subtitle2",children:e.enabled?"true":"false"})}),(0,l.jsx)(_.Z,{align:"right",children:(0,l.jsx)(T(),{href:{pathname:"/dashboard/competencies/groups/edit",query:(0,a.Z)({},e)},children:(0,l.jsx)(M.Z,{component:"a",children:(0,l.jsx)(B.f,{fontSize:"small"})})})})]},e.id)})]})]})}),(0,l.jsx)(E.Z,{component:"div",count:t,onPageChange:r,onRowsPerPageChange:o,page:s,rowsPerPage:u,rowsPerPageOptions:[5,10,25]})]}))};F.propTypes={competency:P().array.isRequired,competencyCount:P().number.isRequired,onPageChange:P().func.isRequired,onRowsPerPageChange:P().func,page:P().number.isRequired,rowsPerPage:P().number.isRequired};var N=t(46723),V=t(84747),$=t(21392),G=t(97169),O=t(2248),W=t(38682),X=t(31644),H=[{label:"Last update (newest)",value:"updatedAt|desc"},{label:"Last update (oldest)",value:"updatedAt|asc"},{label:"Total orders (highest)",value:"totalOrders|desc"},{label:"Total orders (lowest)",value:"totalOrders|asc"},],D=function(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0},U=function(e,n){var t,r,a=(0,o.Z)(n.split("|"),2),i=a[0],s="desc"===(t=a[1])?function(e,n){return D(e,n,i)}:function(e,n){return-D(e,n,i)},l=null==e?void 0:e.map(function(e,n){return[e,n]});return null==l||l.sort(function(e,n){var t=s(e[0],n[0]);return 0!==t?t:e[1]-n[1]}),null==l?void 0:l.map(function(e){return e[0]})},K=function(){var e=(0,N.s)(),n=(0,c.useRef)(null),t=(0,c.useState)([]),o=t[0],u=t[1],Z=(0,c.useState)("all");Z[0],Z[1];var w,b=(0,c.useState)(0),C=b[0],y=b[1],P=(0,c.useState)(10),k=P[0],R=P[1],S=(0,c.useState)(H[0].value),z=S[0],_=S[1],A=(0,c.useState)(!1),M=A[0],E=A[1],L=(0,c.useState)({query:"",hasAcceptedMarketing:void 0,isProspect:void 0,isReturning:void 0}),q=L[0],I=L[1];(0,c.useEffect)(function(){W.w.push({event:"page_view"})},[]);var B=(w=(0,r.Z)(function(){var e;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return e=[],[4,X.U.get("Competency/getCompetencyGroups",{}).then(function(n){e=n.data}).catch(function(e){console.log(e,"error")})];case 1:return n.sent(),[2,e]}})}),function(){return w.apply(this,arguments)}),D=(0,c.useCallback)((0,r.Z)(function(){var n,t;return(0,s.__generator)(this,function(r){switch(r.label){case 0:E(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,B()];case 2:return n=r.sent(),e()&&u(n),[3,4];case 3:return t=r.sent(),console.error(t),[3,4];case 4:return E(!1),[2]}})}),[e]);(0,c.useEffect)(function(){D()},[]);var K,Y,J,Q,ee,en=function(e){e.preventDefault(),I(function(e){var t;return(0,i.Z)((0,a.Z)({},e),{query:null===(t=n.current)||void 0===t?void 0:t.value})})},et=function(e){_(e.target.value)},er=function(e,n){y(n)},ea=function(e){R(parseInt(e.target.value,10))},ei=null==o?void 0:o.filter(function(e){if(q.query){var n=!1;if(["email","name"].forEach(function(t){e[t].toLowerCase().includes(q.query.toLowerCase())&&(n=!0)}),!n)return!1}return(!q.hasAcceptedMarketing||!!e.hasAcceptedMarketing)&&(!q.isProspect||!!e.isProspect)&&(!q.isReturning||!!e.isReturning)}),eo=null==(J=U(ei,z))?void 0:J.slice(C*k,C*k+k);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d(),{children:(0,l.jsx)("title",{children:"Dashboard: Competency Group List | Material Kit Pro"})}),(0,l.jsx)(h.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,l.jsxs)(f.Z,{maxWidth:"xl",children:[(0,l.jsxs)(h.Z,{sx:{mb:4},children:[(0,l.jsxs)(p.ZP,{container:!0,justifyContent:"space-between",spacing:3,children:[(0,l.jsx)(p.ZP,{item:!0,children:(0,l.jsx)(g.Z,{variant:"h4",children:"Competency Groups"})}),(0,l.jsx)(p.ZP,{item:!0,children:(0,l.jsx)(T(),{href:"/dashboard/competencies/groups/add",children:(0,l.jsx)(v.Z,{startIcon:(0,l.jsx)($.v,{fontSize:"small"}),variant:"contained",children:"Add"})})})]}),(0,l.jsxs)(h.Z,{sx:{m:-1,mt:3},children:[(0,l.jsx)(v.Z,{startIcon:(0,l.jsx)(O.g,{fontSize:"small"}),sx:{m:1},children:"Import"}),(0,l.jsx)(v.Z,{startIcon:(0,l.jsx)(V.U,{fontSize:"small"}),sx:{m:1},children:"Export"})]})]}),(0,l.jsxs)(x.Z,{children:[(0,l.jsxs)(h.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1.5,p:3},children:[(0,l.jsx)(h.Z,{component:"form",onSubmit:en,sx:{flexGrow:1,m:1.5},children:(0,l.jsx)(m.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:n},InputProps:{startAdornment:(0,l.jsx)(j.Z,{position:"start",children:(0,l.jsx)(G.o,{fontSize:"small"})})},placeholder:"Search Group"})}),(0,l.jsx)(m.Z,{label:"Sort By",name:"sort",onChange:et,select:!0,SelectProps:{native:!0},sx:{m:1.5},value:z,children:H.map(function(e){return(0,l.jsx)("option",{value:e.value,children:e.label},e.value)})})]}),(0,l.jsx)(F,{competency:eo,competencyCount:null==ei?void 0:ei.length,onPageChange:er,onRowsPerPageChange:ea,rowsPerPage:k,page:C,loading:M})]})]})})]})};K.getLayout=function(e){return(0,l.jsx)(Z.a,{children:(0,l.jsx)(w.c,{children:e})})};var Y=K},828:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(13375),a=t(91566);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||(0,r.Z)(e,n)||(0,a.Z)(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[7760,8576,512,7836,6049,539,3837,6755,1557,3958,100,912,8863,9774,2888,179],function(){return e(e.s=59463)}),_N_E=e.O()}]);